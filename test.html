<!DOCTYPE html>
<html lang="en">
  <head>
    <title>US History | Room 319</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Your existing meta tags and styles -->

    <style>
      .scaled-iframe {
        transform: scale(0.8);
        transform-origin: 50% 50%;
      }
    </style>

    <link rel="stylesheet" href="css/style.css">

  </head>
  <body data-spy="scroll" data-target=".site-nav-target" data-offset="200">

    <!-- Your existing HTML content -->

    <div class="cover-v1 jarallax" id="home-section">
      <div class="container">
        <div class="row align-items-center" style="position: relative;">

          <iframe id="locationIframe" class="scaled-iframe" style="border: 0px #ffffff none; z-index: 0;" name="myiFrame" scrolling="no" frameborder="0" marginheight="0px" marginwidth="2px" height="100%" width="100%" allowfullscreen></iframe>

          <div class="col-md-7 mx-auto text-center" style="position: absolute; top: 40%; left: 50%; transform: translate(-50%, -50%); z-index: 1;">
            <h1 class="heading gsap-reveal-hero" style="color: #fff;">OUR PLANET</h1>
          </div>
        </div>
      </div>
    </div>

    <script>
      // JavaScript code to get user's location and update iframe URL
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(successCallback, errorCallback);
      } else {
        console.log("Geolocation is not supported by this browser.");
      }

      function successCallback(position) {
        const latitude = position.coords.latitude;
        const longitude = position.coords.longitude;

        // Update iframe URL with user's location
        const iframe = document.getElementById("locationIframe");
        iframe.src = `https://classic.nullschool.net/#current/wind/surface/level/orthographic=${longitude},${latitude},318/loc=${longitude},${latitude}`;
      }

      function errorCallback(error) {
        switch (error.code) {
          case error.PERMISSION_DENIED:
            console.log("User denied the request for Geolocation.");
            break;
          case error.POSITION_UNAVAILABLE:
            console.log("Location information is unavailable.");
            break;
          case error.TIMEOUT:
            console.log("The request to get user location timed out.");
            break;
          case error.UNKNOWN_ERROR:
            console.log("An unknown error occurred.");
            break;
        }
      }
    </script>

    <!-- Your existing JavaScript and closing body/html tags -->

  </body>
</html>
